<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>PADRÓN VEHICULAR - AGUASCALIENTES</title>
    <link rel="icon" type="image/png" href="../../../imagenes/camioneta.png">
    <link rel="stylesheet" href="../../diseños/diseñounafoto.css">
    <style>
        /* Estilos específicos para móviles iOS */
        @media only screen and (max-width: 768px) {
            .ios-only {
                display: none; /* Oculto por defecto */
            }
            
            /* Solo mostrar en iOS */
            @supports (-webkit-touch-callout: none) {
                .ios-only {
                    display: block;
                    text-align: center;
                    margin: 20px;
                    padding: 15px;
                    background: #f8f8f8;
                    border-radius: 10px;
                    border: 1px solid #ddd;
                }
                
                .ios-pdf-link {
                    display: inline-flex;
                    align-items: center;
                    gap: 10px;
                    background: #e74c3c;
                    color: white;
                    padding: 12px 20px;
                    border-radius: 8px;
                    text-decoration: none;
                    margin-top: 15px;
                }
                
                .ios-pdf-link img {
                    width: 30px;
                    height: 30px;
                }
                
                .ios-instructions {
                    font-size: 14px;
                    color: #666;
                    margin-top: 10px;
                }
            }
        }
        
        /* Estilo para el título principal */
        .header-container h1 {
            color: #2c3e50;
            text-align: center;
            margin: 20px 0;
            font-size: 24px;
        }
        
        /* Estilo para la información del archivo */
        .file-info {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border: 1px solid #ddd;
        }
        
        .file-info h3 {
            margin-top: 0;
            color: #2c3e50;
        }
        
        .download-btn {
            display: inline-block;
            background: #3498db;
            color: white;
            padding: 10px 15px;
            border-radius: 5px;
            text-decoration: none;
            margin-top: 10px;
        }
        
        .download-btn:hover {
            background: #2980b9;
        }
    </style>
</head>
<body>
    
    <div class="menu-overlay"></div>
    <div class="loading" id="loading">
        <div class="spinner"></div>
    </div>

    <header>
        <button class="menu-toggle" onclick="toggleMenu()">☰</button>
        <nav class="menu">
            <img src="../../../imagenes/gobernacion.jpg" class="logo-arriba-img" alt="Logo">
            <ul>
                <li><a href="../../../index.html">Inicio</a></li>
                <li class="submenu">
                    <a href="javascript:void(0);" onclick="toggleSubmenu(event)">Datos Nacionales</a>
                    <ul class="submenu-list">
                        <li><a href="../../../datos_nacionales/datosindex.html">Datos Nacionales</a></li>
                        <li><a href="../../../datos_nacionales/opcionesdatos/plantillad.html">Plantilla de Personal</a></li>
                        <li><a href="../../../datos_nacionales/opcionesdatos/tabulador.html">Tabulador</a></li>
                        <li><a href="../../../datos_nacionales/opcionesdatos/rubro.html">Gastos de Operación</a></li>
                        <li><a href="../../../datos_nacionales/opcionesdatos/estadofuerza.html">Analitico Estado Fuerza</a></li>
                        <li><a href="../../../datos_nacionales/opcionesdatos/unidadcd.html">Unidades Caninas</a></li>
                        <li><a href="../../../construccion.html">Inmuebles</a></li>
                        <li><a href="../../../construccion.html">Padron Vehicular</a></li>
                        <li><a href="../../../gestion/archivos.html">Gestion de Archvios</a></li>
                    </ul>
                </li>
                <li class="submenu">
                    <a href="javascript:void(0);" onclick="toggleSubmenu(event)">Información de ORs</a>
                    <ul class="submenu-list">
                        <li><a href="../aguascalientesindex.html">Aguascalientes</a></li>
                        <li><a href="../../baja_california/baja_californiaindex.html">Baja California</a></li>
                        <li><a href="../../baja_california_s/baja_california_surindex.html">Baja California Sur</a></li>
                        <li><a href="../../campeche/campecheindex.html">Campeche</a></li>
                        <li><a href="../../chiapas/chiapasindex.html">Chiapas</a></li>
                        <li><a href="../../chihuahua/chihuahuaindex.html">Chihuahua</a></li>
                        <li><a href="../../coahuila/coahuilaindex.html">Coahuila</a></li>
                        <li><a href="../../colima/colimaindex.html">Colima</a></li>
                        <li><a href="../../cdmx/cdmxindex.html">Ciudad de México</a></li>
                        <li><a href="../../durango/durangoindex.html">Durango</a></li>
                        <li><a href="../../guanajuato/guanajuatoindex.html">Guanajuato</a></li>
                        <li><a href="../../guerrero/guerreroindex.html">Guerrero</a></li>
                        <li><a href="../../hidalgo/hidalgoindex.html">Hidalgo</a></li>
                        <li><a href="../../jalisco/jaliscoindex.html">Jalisco</a></li>
                        <li><a href="../../edomex/edomexindex.html">Estado de México</a></li>
                        <li><a href="../../michoacan/michoacanindex.html">Michoacán</a></li>
                        <li><a href="../../morelos/morelosindex.html">Morelos</a></li>
                        <li><a href="../../nayarit/nayaritindex.html">Nayarit</a></li>
                        <li><a href="../../nuevo_leon/nuevo_leonindex.html">Nuevo León</a></li>
                        <li><a href="../../oaxaca/oaxacaindex.html">Oaxaca</a></li>
                        <li><a href="../../puebla/pueblaindex.html">Puebla</a></li>
                        <li><a href="../../quererato/queretaroindex.html">Querétaro</a></li>
                        <li><a href="../../quintanaroo/quintanarooindex.html">Quintana Roo</a></li>
                        <li><a href="../../san_luis/san_luisindex.html">San Luis Potosí</a></li>
                        <li><a href="../../sinaloa/sinaloaindex.html">Sinaloa</a></li>
                        <li><a href="../../sonora/sonoraindex.html">Sonora</a></li>
                        <li><a href="../../tabasco/tabascoindex.html">Tabasco</a></li>
                        <li><a href="../../tamaulipas/tamaulipasindex.html">Tamaulipas</a></li>
                        <li><a href="../../tlaxcala/tlaxcalaindex.html">Tlaxcala</a></li>
                        <li><a href="../../veracruz/veracruzindex.html">Veracruz</a></li>
                        <li><a href="../../yucatan/yucatanindex.html">Yucatán</a></li>
                        <li><a href="../../zacatecas/zacatecasindex.html">Zacatecas</a></li>
                    </ul>
                </li>
            </ul>
        </nav>
    </header>

    <div class="logo-container">
        <img src="../../../imagenes/inm logo.png" alt="Logo INM">
    </div>
    
    <div class="header-container">
        <h1>Padrón Vehicular - Aguascalientes</h1>
    </div>
    
    <div class="pdf-container">
        <iframe 
            id="pdf-viewer" 
            class="pdf-embed"
            src="../../../documentacion/vehiculos/aguascv/Vehiculos_AC.pdf"
            frameborder="0"
            title="Visualizador de PDF"
        ></iframe>
        <div id="pdf-error" class="error-message" style="display: none;"></div>
    </div>

    <!-- Contenedor específico para iOS (oculto en otros dispositivos) -->
    <div id="ios-container" class="ios-only">
        <p>Para una mejor experiencia en tu dispositivo iOS:</p>
        <a href="../../../documentacion/vehiculos/aguascv/Vehiculos_AC.pdf" id="ios-pdf-link" class="ios-pdf-link" target="_blank">
            <img src="../../../imagenes/pdf-icon.png" alt="PDF">
            <span>Abrir Padrón Vehicular</span>
        </a>
        <p class="ios-instructions">Toca el botón arriba para abrir el PDF en una nueva ventana</p>
    </div>

    <div class="mobile-images">
        <div class="file-info">
            <h3>Padrón Vehicular Aguascalientes</h3>
            <p>Documento local</p>
            <a href="../../../documentacion/vehiculos/aguascv/Vehiculos_AC.pdf" class="download-btn" download>
                Descargar Padrón
            </a>
        </div>
        <div id="mobile-error" class="error-message" style="display: none;"></div>
    </div>

    <button class="regresar-btn" onclick="window.history.back()">Regresar</button>

<script>
    // Configuración
    const BACKEND_URL = 'https://control-operativo-1.onrender.com/api';
    const API_KEY = 'Xhy2md57';
    const ESTADO_FIJO = 'aguascalientes';
    const TIPO_DOCUMENTO = 'padron_vehicular';

    // Detectar iOS
    function isIOS() {
        return /iPad|iPhone|iPod/.test(navigator.userAgent) || 
               (navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1);
    }

    // Mostrar/ocultar loading
    function showLoading(show) {
        document.getElementById('loading').style.display = show ? 'flex' : 'none';
    }

    // Mostrar mensaje de error
    function showError(message, target = 'both') {
        if (target === 'both' || target === 'pdf') {
            const pdfError = document.getElementById('pdf-error');
            pdfError.textContent = message;
            pdfError.style.display = 'block';
        }
        if (target === 'both' || target === 'mobile') {
            const mobileError = document.getElementById('mobile-error');
            mobileError.textContent = message;
            mobileError.style.display = 'block';
        }
    }

    // Ocultar errores
    function hideErrors() {
        document.getElementById('pdf-error').style.display = 'none';
        document.getElementById('mobile-error').style.display = 'none';
    }

    // Función para abrir/cerrar el menú
    function toggleMenu() {
        const menu = document.querySelector('.menu');
        const overlay = document.querySelector('.menu-overlay');
        menu.classList.toggle('active');
        overlay.classList.toggle('active');
    }

    // Cerrar menú al hacer clic fuera
    document.querySelector('.menu-overlay').addEventListener('click', toggleMenu);

    // Función para submenús
    function toggleSubmenu(event) {
        event.preventDefault();
        document.querySelectorAll('.submenu.active').forEach(sub => {
            if (sub !== event.target.closest('.submenu')) {
                sub.classList.remove('active');
            }
        });
        event.target.closest('.submenu').classList.toggle('active');
    }

    // Formatear fecha legible
    function formatDate(dateString) {
        const options = { year: 'numeric', month: 'long', day: 'numeric' };
        return new Date(dateString).toLocaleDateString('es-MX', options);
    }

    // Inicialización
    document.addEventListener('DOMContentLoaded', () => {
        // Cerrar submenús al hacer clic en opción
        document.querySelectorAll('.submenu-list a').forEach(link => {
            link.addEventListener('click', () => {
                document.querySelectorAll('.submenu').forEach(sub => {
                    sub.classList.remove('active');
                });
            });
        });
        
        // Manejar clic en el enlace de iOS
        document.getElementById('ios-pdf-link')?.addEventListener('click', function(e) {
            if (isIOS()) {
                // Abrir en nueva pestaña sin restricciones
                window.open(this.href, '_blank');
                e.preventDefault();
            }
        });
    });
</script>

</body>
</html>